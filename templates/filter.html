{% extends "base.html" %}

{# --- ENHANCED SEO BLOCKS START --- #}
{% block title %}Photo Filters & Effects â€“ ImgCraft{% endblock %}

{% block meta_description %}Apply professional filters and effects to photos. Cinematic presets, vintage styles, and
manual color adjustments.{% endblock %}

{% block meta_keywords %}photo filters online free, image effects editor, apply filters to photos, color grading tool,
instagram filters online, cinematic filters, vintage photo effects, black and white filter, photo editor filters,
duotone filter, sepia filter, retro filter, moody filter, bright filter, warm filter, cool filter, dramatic filter,
image enhancement tool, adjust brightness online, adjust contrast, adjust saturation, exposure adjustment, photo color
correction, professional photo editing, filter presets, one click filters, before after comparison, vignette effect,
grain effect, sharpness tool, photo enhancement, aesthetic filters online, vsco filters alternative, lightroom
alternative online, color grading online, film look filter, analog filter, polaroid effect, lomography filter, cross
process filter, bleach bypass effect, teal and orange filter, social media filters, photography filters, creative photo
effects, artistic filters, imgcraft filters{% endblock %}

{% block og_title %}Photo Filters & Effects â€“ ImgCraft{% endblock %}

{% block og_description %}One-click cinematic and vintage filters with advanced manual adjustments. Create stunning
images instantly and free.{% endblock %}
{# --- ENHANCED SEO BLOCKS END --- #}

{% block content %}
<div class="studio-wrapper">

    <aside class="studio-panel studio-panel-left glass-panel">
        <div class="panel-header">
            <h3><i class="fas fa-magic"></i> Presets</h3>
        </div>

        <div class="panel-content custom-scrollbar">
            <div class="control-section" id="presetSection" style="display: none;">
                <div class="preset-grid">
                    <!-- Original/None -->
                    <button class="preset-btn active" data-preset="none">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
                        <span>Original</span>
                    </button>

                    <!-- Cinematic Presets -->
                    <button class="preset-btn" data-preset="teal_orange">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #00d2ff 0%, #ff6b00 100%);"></div>
                        <span>Teal & Orange</span>
                    </button>

                    <button class="preset-btn" data-preset="moody_dark">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);"></div>
                        <span>Moody Dark</span>
                    </button>

                    <button class="preset-btn" data-preset="bright_cinematic">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);"></div>
                        <span>Bright Cinematic</span>
                    </button>

                    <button class="preset-btn" data-preset="film_noir">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #000000 0%, #434343 100%);"></div>
                        <span>Film Noir</span>
                    </button>

                    <button class="preset-btn" data-preset="dramatic">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #141e30 0%, #243b55 100%);"></div>
                        <span>Dramatic</span>
                    </button>

                    <!-- Vintage Presets -->
                    <button class="preset-btn" data-preset="retro_70s">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);"></div>
                        <span>Retro 70s</span>
                    </button>

                    <button class="preset-btn" data-preset="polaroid">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);"></div>
                        <span>Polaroid</span>
                    </button>

                    <button class="preset-btn" data-preset="faded_film">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #dfe9f3 0%, #ffffff 100%);"></div>
                        <span>Faded Film</span>
                    </button>

                    <button class="preset-btn" data-preset="warm_vintage">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ff9a56 0%, #ff6a00 100%);"></div>
                        <span>Warm Vintage</span>
                    </button>

                    <button class="preset-btn" data-preset="cool_vintage">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%);"></div>
                        <span>Cool Vintage</span>
                    </button>

                    <!-- Modern Presets -->
                    <button class="preset-btn" data-preset="clean_bright">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);"></div>
                        <span>Clean & Bright</span>
                    </button>

                    <button class="preset-btn" data-preset="high_contrast">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #000000 0%, #ffffff 100%);"></div>
                        <span>High Contrast</span>
                    </button>

                    <button class="preset-btn" data-preset="matte_finish">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #a8a8a8 0%, #c0c0c0 100%);"></div>
                        <span>Matte Finish</span>
                    </button>

                    <button class="preset-btn" data-preset="vibrant_pop">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%);"></div>
                        <span>Vibrant Pop</span>
                    </button>

                    <button class="preset-btn" data-preset="soft_pastel">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);"></div>
                        <span>Soft Pastel</span>
                    </button>

                    <!-- Black & White Presets -->
                    <button class="preset-btn" data-preset="classic_bw">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #606060 0%, #a0a0a0 100%);"></div>
                        <span>Classic B&W</span>
                    </button>

                    <button class="preset-btn" data-preset="high_contrast_bw">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #000000 0%, #ffffff 100%);"></div>
                        <span>High Contrast B&W</span>
                    </button>

                    <button class="preset-btn" data-preset="soft_bw">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #b0b0b0 0%, #d0d0d0 100%);"></div>
                        <span>Soft B&W</span>
                    </button>

                    <button class="preset-btn" data-preset="dramatic_bw">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #1a1a1a 0%, #4a4a4a 100%);"></div>
                        <span>Dramatic B&W</span>
                    </button>

                    <button class="preset-btn" data-preset="film_bw">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #3a3a3a 0%, #8a8a8a 100%);"></div>
                        <span>Film B&W</span>
                    </button>

                    <!-- Special Presets -->
                    <button class="preset-btn" data-preset="golden_hour">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);"></div>
                        <span>Golden Hour</span>
                    </button>

                    <button class="preset-btn" data-preset="blue_hour">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #2b5876 0%, #4e4376 100%);"></div>
                        <span>Blue Hour</span>
                    </button>

                    <button class="preset-btn" data-preset="sunset_glow">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%);"></div>
                        <span>Sunset Glow</span>
                    </button>

                    <button class="preset-btn" data-preset="cool_tones">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);"></div>
                        <span>Cool Tones</span>
                    </button>

                    <button class="preset-btn" data-preset="warm_tones">
                        <div class="preset-preview"
                            style="background: linear-gradient(135deg, #ff9966 0%, #ff5e62 100%);"></div>
                        <span>Warm Tones</span>
                    </button>
                </div>
            </div>

            <div class="info-box-empty" id="startInfoLeft">
                <i class="fas fa-photo-video"></i>
                <p>Upload image to apply presets</p>
            </div>
        </div>
    </aside>


    <main class="studio-canvas">
        <div class="canvas-container">

            <div class="upload-area-large" id="dropZone">
                <div class="upload-content">
                    <div class="upload-icon-large floating-anim"><i class="fas fa-sliders-h"></i></div>
                    <h2>Filter & Effects</h2>
                    <p class="text-muted">Drag & drop JPG, PNG, or WebP</p>
                    <button class="btn btn-primary mt-4" onclick="document.getElementById('fileInput').click()">
                        Browse Files
                    </button>
                    <input type="file" id="fileInput" hidden accept="image/*">
                </div>
            </div>

            <div class="preview-stage" id="previewContainer" style="display: none;">

                <div class="comparison-wrapper" id="comparisonWrapper">
                    <canvas id="previewCanvas" class="preview-canvas"></canvas>

                    <div class="comparison-slider" id="comparisonSlider" style="display: none;">
                        <div class="slider-handle">
                            <i class="fas fa-arrows-alt-h"></i>
                        </div>
                    </div>
                </div>

                <div class="comparison-toggle">
                    <button class="toggle-btn" id="toggleComparison" title="Toggle Before/After">
                        <i class="fas fa-columns"></i> Compare
                    </button>
                </div>

                <div class="progress-container-floating" id="loadingOverlay" style="display: none;">
                    <div class="loader-spinner"></div>
                    <p class="progress-text">Applying magic...</p>
                </div>
            </div>

        </div>
    </main>


    <aside class="studio-panel studio-panel-right glass-panel">
        <div class="panel-header">
            <h3><i class="fas fa-sliders-h"></i> Adjustments</h3>
            <div class="badge badge-pro">PRO</div>
        </div>

        <div class="panel-content custom-scrollbar">

            <div id="filterControls" style="display: none;">
                <!-- AI Auto Enhance Button -->
                <button id="aiAutoEnhanceBtn" class="btn btn-outline btn-full" style="margin-bottom: 16px;">
                    <i class="fas fa-magic"></i> AI Auto Enhance
                </button>

                <div class="control-section">
                    <label class="section-label">Light & Color</label>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Brightness</span> <span class="val"
                                id="brightnessValue">0</span></div>
                        <input type="range" id="brightness" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Contrast</span> <span class="val" id="contrastValue">0</span>
                        </div>
                        <input type="range" id="contrast" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Saturation</span> <span class="val"
                                id="saturationValue">0</span></div>
                        <input type="range" id="saturation" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Exposure</span> <span class="val" id="exposureValue">0</span>
                        </div>
                        <input type="range" id="exposure" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Vibrance</span> <span class="val" id="vibranceValue">0</span>
                        </div>
                        <input type="range" id="vibrance" class="range-slider" min="-100" max="100" value="0">
                    </div>
                </div>

                <hr class="panel-divider">

                <div class="control-section">
                    <label class="section-label">Color Grading</label>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Temperature</span> <span class="val"
                                id="temperatureValue">0</span></div>
                        <input type="range" id="temperature" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Tint</span> <span class="val" id="tintValue">0</span></div>
                        <input type="range" id="tint" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Hue Shift</span> <span class="val" id="hueShiftValue">0</span>
                        </div>
                        <input type="range" id="hueShift" class="range-slider" min="-180" max="180" value="0">
                    </div>
                </div>

                <hr class="panel-divider">

                <div class="control-section">
                    <label class="section-label">Tone Adjustments</label>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Highlights</span> <span class="val"
                                id="highlightsValue">0</span></div>
                        <input type="range" id="highlights" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Shadows</span> <span class="val" id="shadowsValue">0</span>
                        </div>
                        <input type="range" id="shadows" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Whites</span> <span class="val" id="whitesValue">0</span></div>
                        <input type="range" id="whites" class="range-slider" min="-100" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Blacks</span> <span class="val" id="blacksValue">0</span></div>
                        <input type="range" id="blacks" class="range-slider" min="-100" max="100" value="0">
                    </div>
                </div>

                <hr class="panel-divider">

                <div class="control-section">
                    <label class="section-label">Details & Effects</label>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Sharpness</span> <span class="val" id="sharpnessValue">0</span>
                        </div>
                        <input type="range" id="sharpness" class="range-slider" min="0" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Clarity</span> <span class="val" id="clarityValue">0</span>
                        </div>
                        <input type="range" id="clarity" class="range-slider" min="0" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Blur</span> <span class="val" id="blurValue">0</span></div>
                        <input type="range" id="blur" class="range-slider" min="0" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Vignette</span> <span class="val" id="vignetteValue">0</span>
                        </div>
                        <input type="range" id="vignette" class="range-slider" min="0" max="100" value="0">
                    </div>

                    <div class="slider-group-compact">
                        <div class="slider-label"><span>Grain</span> <span class="val" id="grainValue">0</span></div>
                        <input type="range" id="grain" class="range-slider" min="0" max="100" value="0">
                    </div>
                </div>

                <div class="info-card-small"
                    style="margin-top: 16px; background: rgba(59, 130, 246, 0.1); border-left: 3px solid var(--primary);">
                    <i class="fas fa-info-circle"
                        style="color: var(--primary); font-size: 1.1rem; margin-bottom: 6px;"></i>
                    <p style="font-size: 0.85rem; line-height: 1.6; margin: 0;">
                        <strong>âš¡ Live Preview (FREE):</strong><br>
                        â€¢ Brightness, Contrast, Saturation<br>
                        â€¢ Hue Shift, Blur<br>
                        <em style="opacity: 0.8;">Updates instantly as you adjust</em><br><br>

                        <strong>ðŸŽ¨ Server-Side (On Download):</strong><br>
                        â€¢ Exposure, Vibrance, Temperature, Tint<br>
                        â€¢ Highlights, Shadows, Whites, Blacks<br>
                        â€¢ Sharpness, Clarity, Vignette, Grain<br>
                        â€¢ All 25 Presets<br>
                        â€¢ AI Auto Enhance (OpenCV CLAHE)<br>
                        <em style="opacity: 0.8;">Applied with professional quality</em>
                    </p>
                </div>
            </div>

            <div class="info-box-empty" id="startInfoRight">
                <i class="fas fa-sliders-h"></i>
                <p>Controls will appear here</p>
            </div>

        </div>

        <div class="panel-footer">
            <div class="cost-indicator">
                <i class="fas fa-coins"></i> 2 credits
            </div>

            <button class="btn btn-primary btn-full" id="applyBtn" disabled>
                Apply & Download
            </button>

            <div id="downloadArea" class="action-stack" style="display: none;">
                <a id="downloadBtn" class="btn btn-primary btn-full btn-glow" style="margin-bottom: 12px;">
                    <i class="fas fa-download"></i> Download
                </a>
                <button id="resetBtn" class="btn btn-outline btn-full">
                    <i class="fas fa-undo"></i> Reset All
                </button>
                <button class="btn btn-text mt-2" style="width:100%;" onclick="location.reload()">New Image</button>
            </div>
        </div>
    </aside>


</div>


{% endblock %}

{% block scripts %}
<!-- Filter Tool Styles & Scripts -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/filter.css') }}?v=3">
<script src="{{ url_for('static', filename='js/filter.js') }}?v=3" defer></script>

<!-- Note: WebGL acceleration via glfx.js is not available (library doesn't exist on CDN) -->
<!-- Using Canvas API for real-time preview, which provides excellent performance -->
<!-- Advanced filters are processed server-side with OpenCV for professional quality -->
{% endblock %}