{% extends "base.html" %}

{# --- SEO BLOCKS START --- #}
{% block title %}Color Palette Generator - Extract HEX Codes from Images | ImgCraft{% endblock %}

{% block meta_description %}Extract dominant colors and HEX codes from any image instantly. Create beautiful color
palettes for web design, branding, and digital art. Free online tool.{% endblock %}

{% block meta_keywords %}color palette generator, extract hex code from image, image to color, dominant color finder,
rgb color picker, brand color extractor, design tools, imgcraft{% endblock %}

{% block og_title %}Free Image Color Palette Generator{% endblock %}
{% block og_description %}Upload an image and instantly get its color scheme. Copy HEX and RGB codes for your design
projects. Perfect for UI/UX designers.{% endblock %}
{# --- SEO BLOCKS END --- #}

{% block content %}
<div class="studio-wrapper">

    <aside class="studio-panel studio-panel-left glass-panel">
        <div class="panel-header">
            <h3><i class="fas fa-image"></i> Source File</h3>
        </div>

        <div class="panel-content custom-scrollbar">
            <div id="fileInfoSection" style="display: none;">
                <div class="file-info-section">
                    <div class="file-info-row">
                        <span class="file-info-label">Name:</span>
                        <span class="file-info-value" id="fileName">-</span>
                    </div>
                    <div class="file-info-row">
                        <span class="file-info-label">Size:</span>
                        <span class="file-info-value" id="fileSize">-</span>
                    </div>
                </div>
                
                <hr class="panel-divider">
                
                <div class="mini-preview-box">
                    <img id="miniPreviewImage" src="" alt="Source Thumbnail">
                </div>
            </div>

            <div class="info-box-empty" id="startInfoLeft">
                <i class="fas fa-file-upload"></i>
                <p>Upload an image to extract colors</p>
            </div>
        </div>
    </aside>


    <main class="studio-canvas">
        <div class="canvas-container">
            
            <div class="upload-area-large" id="dropZone">
                <div class="upload-content">
                    <div class="upload-icon-large floating-anim"><i class="fas fa-palette"></i></div>
                    <h2>Palette Generator</h2>
                    <p class="text-muted">Drag & drop JPG, PNG, or WebP</p>
                    <button class="btn btn-primary mt-4" onclick="document.getElementById('fileInput').click()">
                        Browse Files
                    </button>
                    <input type="file" id="fileInput" hidden accept="image/*">
                </div>
            </div>

            <div class="preview-stage" id="previewContainer" style="display: none;">
                <div class="palette-preview-wrapper">
                    <img id="previewImage" class="palette-image" src="" alt="Preview">
                    <div class="scan-overlay" id="scanOverlay"></div>
                </div>

                <div class="progress-container-floating" id="loadingOverlay" style="display: none;">
                    <div class="loader-spinner"></div>
                    <p class="progress-text">Analyzing Colors...</p>
                </div>
            </div>

        </div>
    </main>


    <aside class="studio-panel studio-panel-right glass-panel">
        <div class="panel-header">
            <h3><i class="fas fa-swatchbook"></i> Palette</h3>
            <div class="badge badge-pro">PRO</div>
        </div>

        <div class="panel-content custom-scrollbar">
            
            <div id="paletteResult" style="display: none;">
                <div class="palette-grid" id="paletteGrid">
                    </div>
            </div>

            <div class="info-box-empty" id="startInfoRight">
                <i class="fas fa-eye-dropper"></i>
                <p>Colors will appear here</p>
            </div>

        </div>

        <div class="panel-footer">
            <div class="cost-indicator">
                <i class="fas fa-coins"></i> 2 credits
            </div>
            
            <button class="btn btn-primary btn-full" id="generateBtn" disabled>
                Generate Palette
            </button>

            <div id="resetArea" class="action-stack" style="display: none; margin-top: 10px;">
                <button class="btn btn-outline btn-full" onclick="location.reload()">
                    <i class="fas fa-sync-alt"></i> Extract New
                </button>
            </div>
        </div>
    </aside>

</div>
{% if not user_ad_free %}
<section class="ads-section">
    <div class="ad-container">
        <!-- ImgCraft: Ad Placement - Palette Tool -->
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5547900968688861" data-ad-slot="XXXXXXXXXX"
            data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
</section>
{% endif %}
{% endblock %}

{% block scripts %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/palette.css') }}?v=1">
<script src="{{ url_for('static', filename='js/palette.js') }}?v=1"></script>
{% endblock %}
